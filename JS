document.addEventListener('DOMContentLoaded', function() {
    var form = document.querySelector('#lp-pom-form-17 form');
    
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        console.log('Formulario interceptado');

        var actionURL = '/fsg?pageId=74cf9891-599c-45ec-b671-89aabb53eda5&variant=c';
        console.log('URL de acción definida:', actionURL);

        var formData = new FormData(form);
        console.log('Datos del formulario preparados');

        console.log('Enviando formulario...');
        fetch(actionURL, {
            method: 'POST',
            body: formData,
        })
        .then(response => {
            console.log('Respuesta recibida del servidor', response);
            console.log('Estado de la respuesta:', response.status);
            response.text().then(text => console.log('Cuerpo de la respuesta:', text));

            if (response.ok) {
                console.log('Respuesta OK del servidor');
            } else {
                throw new Error('No se pudo enviar el formulario correctamente.');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert("Hubo un problema con el envío del formulario.");
        });
    });
});
